(this["webpackJsonpreact-projects"]=this["webpackJsonpreact-projects"]||[]).push([[0],{26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(19),c=a.n(r),o=(a(26),a(5)),s=a(3),i=[{id:1,url:"/",text:"home"},{id:2,url:"/lists",text:"lists"},{id:3,url:"/shelves",text:"shelves"}],m=[{id:1,url:"https://www.twitter.com",icon:n.a.createElement(s.c,null)},{id:2,url:"https://www.twitter.com",icon:n.a.createElement(s.b,null)},{id:3,url:"https://www.twitter.com",icon:n.a.createElement(s.g,null)},{id:4,url:"https://www.twitter.com",icon:n.a.createElement(s.h,null)}],u=function(){var e=Object(l.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(l.useRef)(null),u=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=u.current.getBoundingClientRect().height;c.current.style.height=a?"".concat(e,"px"):"0px"}),[a]),n.a.createElement("nav",null,n.a.createElement("div",{className:"nav-center"},n.a.createElement("div",{className:"nav-header"},n.a.createElement("img",{src:"/images/RomRecs.svg",className:"logo",alt:"logo"}),n.a.createElement("button",{className:"nav-toggle",onClick:function(){r(!a)}},n.a.createElement(s.a,{style:{verticalAlign:"middle"}}))),n.a.createElement("div",{className:"links-container",ref:c},n.a.createElement("ul",{className:"links",ref:u},i.map((function(e){var t=e.id,a=e.url,l=e.text;return n.a.createElement("li",{key:t},n.a.createElement("a",{href:a},l))})))),n.a.createElement("ul",{className:"social-icons"},m.map((function(e){var t=e.id,a=e.url,l=e.icon;return n.a.createElement("li",{key:t},n.a.createElement("a",{href:a},l))})))))},E=a(21);var h=function(e){var t=e.bookRec,a=e.books,r=Object(l.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1],m=Object(l.useState)(localStorage.getItem("bookShelves")?JSON.parse(localStorage.getItem("bookShelves")):[]),u=Object(o.a)(m,2),h=u[0],d=u[1];if(Object(l.useEffect)((function(){localStorage.setItem("bookShelves",JSON.stringify(h))}),[h]),-1===t)return null;var b=a[t],v=(b.id,b.title),f=b.author,p=b.img,g=b.link,k=b.description;return b.category,n.a.createElement("div",{className:"book"},n.a.createElement("img",{src:p,alt:"book cover"}),n.a.createElement("article",{className:"book-details"},n.a.createElement("a",{href:g},n.a.createElement("h3",null,v)),n.a.createElement("h4",null,"By ",f),n.a.createElement("p",null,s?k:"".concat(k.substring(0,200),"..."),n.a.createElement("button",{className:"link-btn",onClick:function(){return i(!s)}},s?"show less":"read more")),n.a.createElement("div",{className:"rec-buttons"},n.a.createElement("button",{className:"btn save-btn",onClick:function(e){e.preventDefault();var l=a[t],n=l.id,r=l.title,c=l.author,o=l.img,s=l.link,i=l.description;if(h.find((function(e){return e.title===a[t].title})))window.alert("Book already saved to Shelves.");else{window.alert("Success! Book saved to Shelves.");var m={id:n,title:r,author:c,img:o,link:s,description:i};d([].concat(Object(E.a)(h),[m]))}}},"Save"),n.a.createElement("a",{href:g},n.a.createElement("button",{className:"btn amazon-btn"},"Buy")))))},d=function(e){var t=e.setShowFilters;e.showFilters;return n.a.createElement("div",{className:"popup-overlay"},n.a.createElement("div",{className:"popup-categories"},n.a.createElement("div",{className:"popup-title"},n.a.createElement("h3",null,"Refine Results "),n.a.createElement("h3",null,n.a.createElement(s.d,{style:{verticalAlign:"middle",cursor:"pointer"},onClick:function(){t(!1)}}))),n.a.createElement("form",{action:"",className:"popup-form"},n.a.createElement("input",{type:"radio",id:"fantasy",name:"fantasy"}),n.a.createElement("label",{htmlFor:"fantasy"},"Fantasy"),n.a.createElement("br",null),n.a.createElement("input",{type:"radio",id:"paranormal",name:"paranormal"}),n.a.createElement("label",{htmlFor:"paranormal"},"Paranormal"),n.a.createElement("br",null),n.a.createElement("input",{type:"radio",id:"historical",name:"historical"}),n.a.createElement("label",{htmlFor:"historical"},"Historical"),n.a.createElement("br",null),n.a.createElement("input",{type:"radio",id:"contemporary",name:"contemporary"}),n.a.createElement("label",{htmlFor:"contemporary"},"Contemporary"),n.a.createElement("br",null),n.a.createElement("input",{type:"radio",id:"lgbtq",name:"lgbtq"}),n.a.createElement("label",{htmlFor:"lgbtq"},"LGBTQ"),n.a.createElement("br",null))))},b=["Contemporary","Fantasy","Historical","Paranormal","LGBTQ"],v=function(e){var t=e.books,a=e.setBooks,l=e.showFilters,r=e.mobile,c=e.setShowFilters,o=e.bookRec,i=e.fetchBooks,m=e.setBookRec;return l&&r?n.a.createElement(d,{showFilters:l,setShowFilters:c}):r||-1===o?null:n.a.createElement("div",{className:"categories"},n.a.createElement("h4",null,"Refine results  ",n.a.createElement(s.e,{style:{verticalAlign:"middle"}})),n.a.createElement("form",null,b.map((function(e,l){return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"radio",id:e,name:"categories",value:e,key:l,onClick:function(){return function(e){i(),console.log(e);var l=t.filter((function(t){return t.category===e}));console.log("filtered: "+l);var n=Math.floor(Math.random()*l.length);console.log("random: "+n),m(n),a(l)}(e)}}),n.a.createElement("label",{htmlFor:e},e),n.a.createElement("br",null))}))))},f=function(e){return-1===e.bookRec?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement("img",{className:"eros",src:"/images/eros.svg",alt:"Eros"}),n.a.createElement("img",{className:"arrow",src:"/images/arrow.svg",alt:"Arrow"}),n.a.createElement("div",{className:"heart"}))):null},p=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(l.useState)(-1),i=Object(o.a)(c,2),m=i[0],u=i[1],E=Object(l.useState)(!1),d=Object(o.a)(E,2),b=d[0],p=d[1],g=Object(l.useState)(!1),k=Object(o.a)(g,2),y=k[0],w=k[1],N=function(){fetch("http://localhost:8000/users").then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)})),console.log("fetched")};Object(l.useEffect)((function(){N()}),[]),Object(l.useEffect)((function(){S()}));var S=function(){window.innerWidth<800?w(!0):w(!1)};window.addEventListener("resize",S);return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"hero"},n.a.createElement("h1",null,"Eros Recommends"),n.a.createElement("h4",null,"Romance novels you'll love at first click.")),n.a.createElement(f,{bookRec:m}),n.a.createElement("section",{className:"rec-interaction"},n.a.createElement("div",{className:"hero-btns"},n.a.createElement("button",{className:"btn filter-btn",onClick:function(e){e.preventDefault(),p(!0)}},n.a.createElement(s.e,{style:{verticalAlign:"middle"}})),n.a.createElement("button",{type:"submit",className:"btn random-btn",onClick:function(e){e.preventDefault();var t=Math.floor(Math.random()*a.length);u(t)}},"Tell me what to read")),n.a.createElement("article",{className:"book-results"},n.a.createElement(v,{setBookRec:u,fetchBooks:N,books:a,setBooks:r,setShowFilters:p,mobile:y,showFilters:b,bookRec:m}),n.a.createElement(h,{bookRec:m,books:a}))))},g=[{title:"Steamy retellings",subtitle:"Classic stories retold with romantic twists"},{title:"Dancing rakes",subtitle:"Regency romance filled with lords and ladies attending balls"},{title:"Witches, vampires, and ghosts oh my...",subtitle:"Many things go bump in the night"},{title:"Ladies who save the day",subtitle:"Women who save the day and happen to fall in love too"},{title:"Prophecies, quests, and true love",subtitle:"Journey with hero(ine)s as they find love and adventure"}],k=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"hero"},n.a.createElement("h1",null,"Lovely Lists"),n.a.createElement("h4",null,"Browse book lists curated by yours truly.")),n.a.createElement("section",{className:"lists"},g.map((function(e){var t=e.title,a=e.subtitle;return n.a.createElement("article",{className:"list"},n.a.createElement("div",{className:"list-info"},n.a.createElement("h3",null,t),n.a.createElement("p",null,a)),n.a.createElement("button",{className:"btn",type:"button",onClick:function(e){return function(e){e.preventDefault(),window.alert("No list at this time.")}(e)}},"View List"))}))))},y=function(){var e=localStorage.getItem("bookShelves");return e?JSON.parse(e):[]},w=function(){var e=Object(l.useState)(y()),t=Object(o.a)(e,2),a=t[0],r=t[1];return a.length<1||void 0===a?n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"hero"},n.a.createElement("h1",null,"Shelves"),n.a.createElement("h4",null,"Good books deserve to be saved.")),n.a.createElement("section",{className:"shelves"},n.a.createElement("img",{src:"/images/shelves.svg",className:"shelves-img",alt:"girl reading"}),n.a.createElement("p",null,"Your shelves are empty! To save books to your shelves, click the save button when you see a book on the ",n.a.createElement("a",{href:"/"},"homepage"),"."))):n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"hero"},n.a.createElement("h1",null,"Shelves"),n.a.createElement("h4",null,"Good books deserve to be saved.")),n.a.createElement("section",{className:"shelves"},a.map((function(e){var t=e.title,l=e.author,c=(e.img,e.link),o=e.id;return n.a.createElement("article",{className:"list",key:o},n.a.createElement("div",{className:"list-info"},n.a.createElement("a",{href:c},n.a.createElement("h3",null,t)),n.a.createElement("h4",null,l)),n.a.createElement("button",{className:"btn",type:"button",onClick:function(e){return function(e,t){e.preventDefault(),localStorage.setItem("bookShelves",JSON.stringify(a.filter((function(e){return e.id!==t})))),r(y())}(e,o)}},n.a.createElement(s.f,null)))}))))},N=a(1);var S=function(){return n.a.createElement("main",null,n.a.createElement(u,null),n.a.createElement(N.c,null,n.a.createElement(N.a,{path:"/",exact:!0},n.a.createElement(p,null)),n.a.createElement(N.a,{path:"/lists",children:n.a.createElement(k,null)}),n.a.createElement(N.a,{path:"/shelves",children:n.a.createElement(w,null)})))},O=a(13);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O.a,null,n.a.createElement(S,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.7f5f7aab.chunk.js.map